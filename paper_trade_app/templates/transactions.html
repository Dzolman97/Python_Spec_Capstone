{% extends 'userpages.html' %}

{% block body %}

<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Transactions</h1>
  </div>
  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col">Symbol</th>
          <th scope="col">Purchased / Sold</th>
          <th scope="col">Quantity</th>
          <th scope="col">Notational</th>
          <th scope="col">Date & Time</th>
        </tr>
      </thead>
      <tbody>
        {% for coin in coin_info %}
          {% for transaction in users_transactions %}
            {% if coin.id == transaction.coin_id %}
              <tr>
                <td>{{ coin.coin_symbol }}</td>
                {% if transaction.buy == True %}
                  <td style="color: rgb(37, 185, 0);">Buy Order</td>
                {% endif %}
                {% if transaction.buy == False %}
                  <td style="color: rgb(185, 43, 0);">Sell Order</td>
                {% endif %}
                <td>{{ transaction.quantity }}</td>
                <td>{{ transaction.transaction_in_dollars }}</td>
                <td>{{ transaction.time }}</td>
              </tr>
            {% endif %}
          {% endfor %}
        {% endfor %}
      </tbody>
     </table>
  </div>
</main>
{% endblock %}